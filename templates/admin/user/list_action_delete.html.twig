{% set userAdmin = admin.getConfigurationPool().getAdminByClass('App\\Entity\\User') %}
{% if 'ROLE_ADMIN' in object.roles %}
    <a class="btn btn-sm btn-default disabled">
        <i class="fa fa-ban" aria-hidden="true"></i>
        {{ 'action_delete'|trans({}, 'SonataAdminBundle') }}
    </a>
{% else %}
    <a class="btn btn-sm btn-default" href="{{ userAdmin.generateObjectUrl('delete', object) }}" title="{{ 'action_delete'|trans({}, 'SonataAdminBundle') }}">
        <i class="fa fa-trash" aria-hidden="true"></i>
        {{ 'action_delete'|trans({}, 'SonataAdminBundle') }}
    </a>
{% endif %}
